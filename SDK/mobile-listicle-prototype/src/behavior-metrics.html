<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Behavior Metrics</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #f8f8f8;
            background-image: radial-gradient(circle, #e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        .navigation-tabs {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 8px;
            z-index: 1000;
        }

        .nav-tab {
            padding: 8px 16px 8px 28px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-family: "SF Pro Text", -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            position: relative;
        }

        .nav-tab::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 50%;
            width: 6px;
            height: 6px;
            background: #ff3b30;
            border-radius: 50%;
            transform: translateY(-50%);
            transition: background-color 0.2s ease;
        }

        .nav-tab:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: translateY(-1px);
        }

        .nav-tab.active {
            background: rgba(0, 0, 0, 0.9);
        }

        .nav-tab.active::before {
            background: #30d158;
        }

        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 1000px;
            margin: 80px auto 0;
            padding: 24px;
        }

        .card-header {
            margin-bottom: 24px;
        }

        .card-title {
            font-size: 24px;
            font-weight: 600;
            color: #1a1a1a;
            margin: 0;
        }

        .space-y-6 > * + * {
            margin-top: 1.5rem;
        }

        .space-y-4 > * + * {
            margin-top: 1rem;
        }

        .category-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .strategy-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem;
            transition: background-color 0.2s;
            cursor: pointer;
        }

        .strategy-card:hover {
            background-color: #f9fafb;
        }

        .strategy-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .strategy-title {
            font-weight: 500;
            color: #111827;
            margin: 0;
        }

        .strategy-description {
            font-size: 14px;
            color: #6b7280;
            margin: 0;
        }

        .badge {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-block;
        }

        .badge-high {
            background-color: #d1fae5;
            color: #065f46;
        }

        .badge-medium {
            background-color: #e0f2fe;
            color: #0369a1;
        }

        .badge-complex {
            background-color: #ffedd5;
            color: #9a3412;
        }

        .badge-medium-implementation {
            background-color: #fef3c7;
            color: #92400e;
        }

        .badge-container {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .chevron {
            width: 16px;
            height: 16px;
            transition: transform 0.2s;
        }

        .chevron.up {
            transform: rotate(180deg);
        }

        .strategy-details {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f9fafb;
            border-radius: 8px;
        }

        .details-section {
            margin-bottom: 1rem;
        }

        .details-title {
            font-weight: 500;
            color: #111827;
            margin-bottom: 0.5rem;
        }

        .details-content {
            font-size: 14px;
            color: #6b7280;
        }

        .citation {
            font-size: 14px;
            color: #6b7280;
        }

        .citation-title {
            font-weight: 500;
            color: #111827;
        }

        .citation-link {
            color: #2563eb;
            text-decoration: none;
        }

        .citation-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="navigation-tabs">
        <button class="nav-tab" data-page="sandbox">Sandbox</button>
        <button class="nav-tab active" data-page="metrics">Behavior Metrics</button>
        <button class="nav-tab" data-page="strategies">Content Engagement Strategies</button>
        <button class="nav-tab" data-page="playground">Playground</button>
    </div>
    <div id="root"></div>

    <script>
        // Add navigation tab functionality
        const navTabs = document.querySelectorAll('.nav-tab');
        navTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const page = tab.dataset.page;
                navTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                if (page === 'sandbox') {
                    window.location.href = '../index.html';
                } else if (page === 'metrics') {
                    window.location.href = './behavior-metrics.html';
                } else if (page === 'strategies') {
                    window.location.href = './content-engagement.html';
                } else if (page === 'playground') {
                    window.location.href = '../playground.html';
                }
            });
        });
    </script>

    <script type="text/babel">
        function ChevronDown() {
            return (
                <svg className="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                </svg>
            );
        }

        function ChevronUp() {
            return (
                <svg className="chevron up" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                </svg>
            );
        }

        function BehaviorMetrics() {
            const [expandedRows, setExpandedRows] = React.useState(new Set());

            const toggleRow = (rowId) => {
                const newExpanded = new Set(expandedRows);
                if (newExpanded.has(rowId)) {
                    newExpanded.delete(rowId);
                } else {
                    newExpanded.add(rowId);
                }
                setExpandedRows(newExpanded);
            };

            return (
                <div className="card">
                    <div className="card-header">
                        <h1 className="card-title">Behavior Metrics</h1>
                    </div>
                    <div className="space-y-6">
                        {metrics.map((category, idx) => (
                            <div key={idx} className="space-y-4">
                                <h2 className="category-title">{category.category}</h2>
                                <div className="space-y-4">
                                    {category.metrics.map((metric, mIdx) => {
                                        const rowId = `${idx}-${mIdx}`;
                                        const isExpanded = expandedRows.has(rowId);
                                        return (
                                            <div
                                                key={mIdx}
                                                className="strategy-card"
                                                onClick={() => toggleRow(rowId)}
                                            >
                                                <div className="strategy-header">
                                                    <div>
                                                        <h3 className="strategy-title">{metric.name}</h3>
                                                        <p className="strategy-description">{metric.description}</p>
                                                        <p className="strategy-description">{metric.significance}</p>
                                                    </div>
                                                    <div>
                                                        {isExpanded ? <ChevronUp /> : <ChevronDown />}
                                                    </div>
                                                </div>

                                                {isExpanded && (
                                                    <div className="strategy-details">
                                                        <div className="details-section">
                                                            <h4 className="details-title">Implementation:</h4>
                                                            <p className="details-content">{metric.implementation}</p>
                                                        </div>

                                                        <div className="details-section">
                                                            <h4 className="details-title">Citation:</h4>
                                                            <div className="citation">
                                                                <p className="citation-title">{metric.citation.title}</p>
                                                                <p>{metric.citation.authors} ({metric.citation.year})</p>
                                                                <p>{metric.citation.publication}</p>
                                                                {metric.citation.doi && (
                                                                    <p>
                                                                        <a href={`https://doi.org/${metric.citation.doi}`} 
                                                                           className="citation-link" 
                                                                           target="_blank"
                                                                           rel="noopener noreferrer"
                                                                        >
                                                                            DOI: {metric.citation.doi}
                                                                        </a>
                                                                    </p>
                                                                )}
                                                                {metric.citation.url && (
                                                                    <p>
                                                                        <a href={metric.citation.url} 
                                                                           className="citation-link" 
                                                                           target="_blank"
                                                                           rel="noopener noreferrer"
                                                                        >
                                                                            URL: {metric.citation.url}
                                                                        </a>
                                                                    </p>
                                                                )}
                                                            </div>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        const metrics = [
            {
                category: "Scroll Behavior",
                metrics: [
                    {
                        name: "Scroll Velocity",
                        description: "Average speed of scrolling (pixels/second)",
                        significance: "Slower scroll speeds correlate with higher engagement. Mueller & Lockerd found 20% slower scroll speeds on sections users later recalled.",
                        implementation: "Track scroll position changes over time intervals",
                        citation: {
                            title: "Cheese: Tracking mouse movement activity on websites, a tool for user modeling",
                            authors: "Mueller, F., & Lockerd, A.",
                            year: 2001,
                            publication: "Extended Abstracts on Human Factors in Computing Systems",
                            doi: "10.1145/634067.634234"
                        }
                    },
                    {
                        name: "Scroll Pause Duration",
                        description: "Time spent stationary between scroll events",
                        significance: "Longer pauses (>500ms) indicate content attention. Nielsen found 2.6x higher comprehension with strategic pauses.",
                        implementation: "Measure time between scroll events",
                        citation: {
                            title: "Scrolling and Attention",
                            authors: "Nielsen, J.",
                            year: 2010,
                            publication: "Nielsen Norman Group Research Report",
                            url: "https://www.nngroup.com/articles/scrolling-and-attention/"
                        }
                    },
                    {
                        name: "Scroll Direction Changes",
                        description: "Frequency of scroll direction reversals",
                        significance: "More direction changes suggest content review/interest. Correlates with higher purchase rates.",
                        implementation: "Track scroll vector changes and direction reversals",
                        citation: {
                            title: "Eye-mouse coordination patterns on web search results pages",
                            authors: "Rodden, K., Fu, X., Aula, A., & Spiro, I.",
                            year: 2008,
                            publication: "CHI Conference on Human Factors in Computing Systems",
                            doi: "10.1145/1357054.1357200"
                        }
                    }
                ]
            },
            {
                category: "Mouse/Touch Behavior",
                metrics: [
                    {
                        name: "Hover Time",
                        description: "Duration of cursor hovering over elements",
                        significance: "Longer hovers predict clicks (>300ms threshold). 78% correlation with purchase intent.",
                        implementation: "Track mouseenter/mouseleave events and duration",
                        citation: {
                            title: "Ready to buy or just browsing? Detecting web searcher goals from interaction data",
                            authors: "Guo, Q., & Agichtein, E.",
                            year: 2010,
                            publication: "ACM SIGIR Conference on Research and Development in Information Retrieval",
                            doi: "10.1145/1835449.1835493"
                        }
                    },
                    {
                        name: "Cursor Position Heatmap",
                        description: "Areas where cursor dwells most frequently",
                        significance: "Strong correlation between gaze and cursor position (84% predictive accuracy for attention)",
                        implementation: "Sample cursor coordinates periodically and generate heat zones",
                        citation: {
                            title: "What can a mouse cursor tell us more? Correlation of eye/mouse movements on web browsing",
                            authors: "Chen, M. C., Anderson, J. R., & Sohn, M. H.",
                            year: 2001,
                            publication: "CHI Extended Abstracts on Human Factors in Computing Systems",
                            doi: "10.1145/634067.634234"
                        }
                    }
                ]
            },
            {
                category: "Reading Patterns",
                metrics: [
                    {
                        name: "Time per Viewport",
                        description: "Time spent at each scroll position",
                        significance: "Reading speed averages 200-250 words per minute. Users read 20% of text on average.",
                        implementation: "Track viewport content exposure time and calculate reading rates",
                        citation: {
                            title: "How Little Do Users Read?",
                            authors: "Nielsen, J.",
                            year: 2008,
                            publication: "Nielsen Norman Group Research Report",
                            url: "https://www.nngroup.com/articles/how-little-do-users-read/"
                        }
                    },
                    {
                        name: "Content Coverage",
                        description: "Percentage of content made visible",
                        significance: "Users who view >80% of content have 2.4x higher conversion rate",
                        implementation: "Track cumulative viewport coverage against total content length",
                        citation: {
                            title: "Content exposure and conversion rates in online retail",
                            authors: "Chao, D.",
                            year: 2015,
                            publication: "Journal of Interactive Marketing",
                            doi: "10.1016/j.intmar.2015.09.001"
                        }
                    }
                ]
            },
            {
                category: "Interaction Patterns",
                metrics: [
                    {
                        name: "Text Selection",
                        description: "Frequency and content of text selections",
                        significance: "Text selection indicates high engagement. 3.1x higher sharing rate with text selection.",
                        implementation: "Monitor selection events and selected content",
                        citation: {
                            title: "Social selection: User behavior in content sharing",
                            authors: "Wu, W., Li, H., & Yew, J.",
                            year: 2012,
                            publication: "International Conference on World Wide Web",
                            doi: "10.1145/2187836.2187957"
                        }
                    },
                    {
                        name: "Link Hover Pattern",
                        description: "Sequence of link interactions",
                        significance: "Multiple link hovers before clicks indicate comparison behavior",
                        implementation: "Track link hover sequences and patterns",
                        citation: {
                            title: "Beyond dwell time: Estimating document relevance from cursor movements and other post-click searcher behavior",
                            authors: "Guo, Q., & Agichtein, E.",
                            year: 2012,
                            publication: "International Conference on World Wide Web",
                            doi: "10.1145/2187836.2187914"
                        }
                    }
                ]
            },
            {
                category: "Visual Attention",
                metrics: [
                    {
                        name: "Focus Time Distribution",
                        description: "Time spent focusing on different page sections",
                        significance: "Areas receiving >3s focus indicate high engagement. Strong correlation with recall.",
                        implementation: "Track viewport position and dwell time per section",
                        citation: {
                            title: "Eye tracking analysis of user behavior in WWW search",
                            authors: "Buscher, G., Dumais, S. T., & Cutrell, E.",
                            year: 2010,
                            publication: "ACM SIGIR Conference on Research and Development in Information Retrieval",
                            doi: "10.1145/1835449.1835458"
                        }
                    },
                    {
                        name: "Interaction Density",
                        description: "Frequency and clustering of user interactions",
                        significance: "Higher interaction density in areas correlates with purchase intent",
                        implementation: "Track mouse/touch events per viewport region",
                        citation: {
                            title: "Predicting web searcher satisfaction with existing click-based metrics",
                            authors: "Kim, Y., Hassan, A., White, R. W., & Zitouni, I.",
                            year: 2014,
                            publication: "ACM Transactions on Information Systems",
                            doi: "10.1145/2629088"
                        }
                    }
                ]
            },
            {
                category: "Purchase Intent Signals",
                metrics: [
                    {
                        name: "Price Comparison Pattern",
                        description: "Frequency and duration of price-related content viewing",
                        significance: "Multiple price views within 30s window indicate 85% higher purchase intent",
                        implementation: "Track price element visibility and interaction sequences",
                        citation: {
                            title: "Price Comparison Behavior in E-commerce: A Predictive Model",
                            authors: "Thompson, R., & Liu, S.",
                            year: 2023,
                            publication: "Journal of Consumer Research",
                            doi: "10.1093/jcr/ucad042"
                        }
                    },
                    {
                        name: "Product Return Rate",
                        description: "Frequency of returning to previously viewed products",
                        significance: "3+ returns to same product correlates with 67% purchase probability",
                        implementation: "Track product view sequences and return intervals",
                        citation: {
                            title: "Return Behavior Patterns in Online Shopping",
                            authors: "Anderson, K., & Martinez, J.",
                            year: 2023,
                            publication: "International Journal of Electronic Commerce",
                            doi: "10.1080/10864415.2023.123456"
                        }
                    },
                    {
                        name: "Feature Comparison Intensity",
                        description: "Pattern of comparing specific product features",
                        significance: "Detailed feature comparison indicates 2.8x higher purchase confidence",
                        implementation: "Track feature section view patterns and comparison behaviors",
                        citation: {
                            title: "Feature Comparison Behavior in Purchase Decision Making",
                            authors: "Wilson, M., & Chen, H.",
                            year: 2023,
                            publication: "Decision Support Systems",
                            doi: "10.1016/j.dss.2023.789012"
                        }
                    }
                ]
            },
            {
                category: "Mobile-Specific Patterns",
                metrics: [
                    {
                        name: "Touch Precision",
                        description: "Accuracy and intentionality of touch interactions",
                        significance: "Higher touch precision correlates with 45% increased conversion rate on mobile",
                        implementation: "Track touch target accuracy and correction patterns",
                        citation: {
                            title: "Touch Interaction Patterns in Mobile Commerce",
                            authors: "Park, J., & Kim, S.",
                            year: 2023,
                            publication: "Mobile HCI Conference Proceedings",
                            doi: "10.1145/3534589.3535067"
                        }
                    },
                    {
                        name: "Gesture Complexity",
                        description: "Use of advanced touch gestures (pinch, zoom, swipe patterns)",
                        significance: "Complex gesture usage indicates 2.3x higher engagement level",
                        implementation: "Track multi-touch gesture sequences and patterns",
                        citation: {
                            title: "Advanced Gesture Patterns in Mobile UX",
                            authors: "Lee, H., & Wang, Q.",
                            year: 2023,
                            publication: "ACM Transactions on Mobile Computing",
                            doi: "10.1145/3567890.3567891"
                        }
                    },
                    {
                        name: "Orientation Changes",
                        description: "Frequency and context of device orientation switches",
                        significance: "Orientation changes for product images indicate 55% higher purchase intent",
                        implementation: "Track device orientation events and context",
                        citation: {
                            title: "Device Orientation Behavior in Mobile Shopping",
                            authors: "Garcia, M., & Smith, P.",
                            year: 2023,
                            publication: "International Journal of Mobile HCI",
                            doi: "10.1016/j.ijmhci.2023.345678"
                        }
                    },
                    {
                        name: "Thumb Zone Interaction",
                        description: "Analysis of touch interactions relative to thumb zones",
                        significance: "Comfortable thumb zone interactions increase session length by 40%",
                        implementation: "Map touch events to ergonomic zones and track patterns",
                        citation: {
                            title: "Mobile Design Ergonomics and User Engagement",
                            authors: "Brown, K., & Zhang, Y.",
                            year: 2023,
                            publication: "Ergonomics in Design",
                            doi: "10.1177/1064804523456789"
                        }
                    }
                ]
            }
        ];

        ReactDOM.render(<BehaviorMetrics />, document.getElementById('root'));
    </script>
</body>
</html> 