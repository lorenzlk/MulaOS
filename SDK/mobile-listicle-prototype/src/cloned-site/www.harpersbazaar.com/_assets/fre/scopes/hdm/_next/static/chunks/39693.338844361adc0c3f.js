"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39693,62074],{39693:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var n=r(50096),a=r.n(n),c=r(55991),i=r(46714),o=r(76511),l=r(59043),u=r(98697),s=r(79371),p=r(10311),f=r(57678),d=r(47820),b=r(88188),g=r(12114),O=r(78617),h=r(57809),y=r(1438),P=r(55991);let j=a()(()=>r.e(96127).then(r.bind(r,96127)),{loadableGenerated:{webpack:()=>[96127]}}),w=a()(()=>r.e(35833).then(r.bind(r,35833)),{loadableGenerated:{webpack:()=>[35833]}});function v({hideMainAdToggle:e=null}){let t=(0,i.usePageData)("embeddedListicleSlideCount"),r=(0,i.usePageData)("embeddedListicleId"),n=(0,i.usePageData)("data.content.0.metadata.slide_count")??t,a=(0,i.usePageData)("data.content.0.id"),b=(0,i.usePageData)("slides",[])??[],w=(0,i.usePageData)("data.content.0.media_pages",[])??[],[v,D]=(0,p.fp)(s.c),m=(0,p.md)(g.bB)||1,A=(0,p.Xr)(g.em),E=(0,p.Xr)(g.PW),k=([e,t])=>(0,h.p)({id:t,initialData:b,mediaIdPages:w,pageIndex:e,mediaPagesCount:m}),S=(...e)=>(0,h.i)(...e,r||a),{data:Y,ref:_,loading:K,error:z}=(0,d.A)({fetcher:k,getKey:S,pageSize:l.Tl,fallbackData:b,inviewOptions:{rootMargin:"1600px 0px"}});D(!0===K);let C=Y?.length,L=(0,o.A)();(0,c.useEffect)(()=>{L||window.dispatchEvent(new CustomEvent("app.adApiUpdate"))},[C]);let T=n>l.Tl?C-1:null,x=(0,O.W)({listicleSlides:Y,hideMainAdToggle:e,ref:_,refIndex:T});return A(_.current?.offsetHeight),E(T),(0,y.Y)(P.Fragment,null,x,z&&Y.length<n?(0,y.Y)(f.JK,null,(0,y.Y)(j,{fetcher:k,getKey:S,sxProps:f.NU})):v&&(0,y.Y)(f.JK,null,(0,y.Y)(u.A,null)))}function D(e){return(0,p.md)(b.o)?(0,y.Y)(w,e):(0,y.Y)(v,e)}},57809:(e,t,r)=>{r.d(t,{i:()=>s,p:()=>u});var n=r(84032),a=r(88985);let c=e=>btoa(e);var i=r(59043);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function u({id:e,initialData:t,pageIndex:r,mediaIdPages:n,source:i,mediaPagesCount:o=1}){let u;if(1===r)return t;if(!e)return[];let s=r>=2?n?.[r-2]||[]:n?.flat();if(o>2&&(o=2),r>=2&&o>1){let e=o-1;for(;e>0;)s=[...s,...n?.[r-2+e]||[]],e-=1}s.length&&(u=c(s.join(",")));let p=l(l(l(l({id:e},r&&{page:r}),u&&{ids:u}),i&&{source:i}),{},{mediaPagesCount:o}),f=`/api/listicle-slides?${new URLSearchParams(p).toString()}`;try{return(await (0,a.hd)(f,{retry:2})).json()}catch{return[]}}function s(e,t,r){return r&&(!t||t.length)?[0===e||t?.length&&t.length<=i.Tl?e+1:e+Math.ceil(t.length/i.Tl),r]:[]}},47820:(e,t,r)=>{r.d(t,{A:()=>b});var n=r(84032),a=r(97552),c=r(12278),i=r(55991),o=r(95309),l=r(50050);let u=["fetcher","getKey","fallbackData","update","pageSize","inviewOptions"],s=["data","error","size","isLoading","setSize"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return e+1}function b(e){let{fetcher:t,getKey:r,fallbackData:n=[],update:p=d,pageSize:b=10,inviewOptions:g}=e,O=(0,a.A)(e,u),{inView:h,observer:y,ref:P}=(0,c.A)(g),j=(0,o.Ay)(r,t,f(f({fallbackData:n},l.fF),O)),{data:w,error:v,size:D,isLoading:m,setSize:A}=j,E=(0,a.A)(j,s),k=w&&w.length?[].concat(...w):[],S=m||D>0&&w&&void 0===w[D-1];return(0,i.useEffect)(()=>{h&&P.current&&!(n.length<b)&&(y.current.unobserve(P.current),!w&&!v||S||w&&w[w.length-1]?.length<b||(y.current.reset(),A(p(D))))},[h]),(0,i.useEffect)(()=>{P.current&&y.current.observe(P.current)},[w]),f({ref:P,loading:S,data:k??[],size:D,error:v},E)}}}]);