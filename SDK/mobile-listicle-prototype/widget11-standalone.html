<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Product Showcase Widget</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", sans-serif;
        }
        
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f5f5f7;
            padding: 20px;
        }
        
        h1 {
            font-size: 28px;
            font-weight: 500;
            color: #333;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 100;
        }
        
        .back-button:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: translateY(-1px);
        }
        
        .back-button svg {
            width: 16px;
            height: 16px;
            stroke: white;
            stroke-width: 2;
        }
        
        .widget-container {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }
        
        .widget-header {
            background: #f8f8f8;
            padding: 15px 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .widget-title {
            font-size: 18px;
            font-weight: 500;
            color: #333;
            margin-bottom: 5px;
        }
        
        .widget-subtitle {
            font-size: 14px;
            color: #666;
        }
        
        .context-tag {
            display: inline-block;
            background: #e1f5fe;
            color: #0288d1;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
            margin-top: 10px;
        }
        
        .carousel-container {
            position: relative;
            padding: 45px 20px 50px;
            overflow: hidden;
        }
        
        .carousel-track {
            display: flex;
            gap: 12px;
            transition: transform 0.3s ease;
            overflow-x: scroll;
            scroll-behavior: smooth;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
            will-change: transform;
        }
        
        .carousel-track::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .product-card {
            flex: 0 0 calc(33.333% - 8px);
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            background: white;
            position: relative;
            transform: translateZ(0);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 230px;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .product-relevance {
            position: absolute;
            top: 6px;
            left: 6px;
            background: rgba(0, 122, 255, 0.9);
            color: white;
            font-size: 9px;
            padding: 2px 6px;
            border-radius: 12px;
            font-weight: 500;
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            z-index: 2;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }
        
        .product-image {
            height: 90px;
            background-size: cover;
            background-position: center;
            transition: transform 0.5s ease;
            position: relative;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-card:nth-child(1) .product-image {
            background-image: url('https://placehold.co/600x400/000000/ffffff?text=Sony+Headphones');
        }
        
        .product-card:nth-child(2) .product-image {
            background-image: url('https://placehold.co/600x400/000000/ffffff?text=Apple+Watch');
        }
        
        .product-card:nth-child(3) .product-image {
            background-image: url('https://placehold.co/600x400/000000/ffffff?text=Sony+Camera');
        }
        
        .product-card:nth-child(4) .product-image {
            background-image: url('https://placehold.co/600x400/000000/ffffff?text=Sonos+Speaker');
        }
        
        .product-details {
            padding: 0;
            background: white;
            flex-grow: 1;
        }
        
        .product-details h4 {
            margin: 0 0 4px 0;
            font-weight: 500;
            font-size: 13px;
            color: #333;
        }
        
        .product-rating {
            color: #ff9500;
            font-size: 11px;
            margin-bottom: 3px;
        }
        
        .product-rating span {
            color: #999;
            font-size: 10px;
        }
        
        .product-price {
            font-weight: 600;
            color: #333;
            font-size: 13px;
        }
        
        .product-actions {
            display: flex;
            padding: 0;
            gap: 6px;
            margin-top: 6px;
        }
        
        .product-actions button {
            flex: 1;
            border: none;
            padding: 5px 0;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .view-btn {
            background: #007aff;
            color: white;
        }
        
        .view-btn:hover {
            background: #0066d6;
        }
        
        .save-btn {
            background: #f2f2f7;
            color: #555;
        }
        
        .save-btn:hover {
            background: #e2e2e7;
        }
        
        .carousel-nav {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
        }
        
        .nav-dot {
            width: 8px;
            height: 8px;
            background-color: #ccc;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            padding: 0;
            margin: 0;
        }
        
        .nav-dot.active {
            background-color: #007aff;
            width: 24px;
            border-radius: 4px;
        }
        
        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all 0.2s ease;
        }
        
        .carousel-button:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            background: #f8f8f8;
        }
        
        .prev-button {
            left: 10px;
        }
        
        .next-button {
            right: 10px;
        }
        
        .carousel-button svg {
            width: 20px;
            height: 20px;
            fill: none;
            stroke: #333;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        
        .meta-info {
            padding: 12px 20px;
            border-top: 1px solid #eaeaea;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .personalization-info {
            font-size: 13px;
            color: #666;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .personalization-info svg {
            width: 16px;
            height: 16px;
            fill: #999;
        }
        
        .read-mode-toggle {
            font-size: 13px;
            color: #007aff;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .read-mode-toggle svg {
            width: 12px;
            height: 12px;
            stroke: #007aff;
            stroke-width: 2;
        }
        
        /* Product Quick View Modal */
        .quick-view-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .quick-view-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            width: 90%;
            max-width: 800px;
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.95);
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .quick-view-modal.active .modal-content {
            transform: scale(1);
            opacity: 1;
        }
        
        .quick-view-container {
            display: flex;
            flex-direction: column;
            max-height: 85vh;
        }
        
        @media (min-width: 768px) {
            .quick-view-container {
                flex-direction: row;
            }
        }
        
        .quick-view-image {
            flex: 1;
            min-height: 300px;
            background-image: url('https://placehold.co/800x800/000000/ffffff?text=Sony+Headphones');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .quick-view-details {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        .product-brand {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .product-title {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 15px;
            color: #333;
        }
        
        .product-overview {
            font-size: 15px;
            line-height: 1.6;
            color: #555;
            margin-bottom: 20px;
        }
        
        .product-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
        }
        
        .meta-label {
            font-size: 12px;
            color: #999;
            margin-bottom: 5px;
        }
        
        .meta-value {
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }
        
        .product-features {
            margin-bottom: 20px;
        }
        
        .features-title {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 10px;
            color: #333;
        }
        
        .feature-list {
            list-style: none;
        }
        
        .feature-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
            font-size: 14px;
            color: #555;
        }
        
        .feature-item::before {
            content: '•';
            color: #007aff;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .action-buttons button {
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 500;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        
        .buy-now-btn {
            background: #007aff;
            color: white;
            flex: 2;
        }
        
        .buy-now-btn:hover {
            background: #0066d6;
        }
        
        .add-cart-btn {
            background: #f2f2f7;
            color: #333;
            flex: 1;
        }
        
        .add-cart-btn:hover {
            background: #e2e2e7;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.3);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 10;
        }
        
        .close-modal:hover {
            background: rgba(0, 0, 0, 0.4);
        }
        
        .close-modal svg {
            width: 20px;
            height: 20px;
            stroke: white;
            stroke-width: 2;
        }
        
        /* 3D Product View */
        .view-3d-button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 13px;
            font-weight: 500;
            color: #333;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
        }
        
        .view-3d-button:hover {
            background: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }
        
        .view-3d-button svg {
            width: 16px;
            height: 16px;
            stroke: #333;
            stroke-width: 2;
        }
        
        /* Article Context Section */
        .article-context {
            padding: 15px 20px;
            border-bottom: 1px solid #eaeaea;
            background: #f9f9f9;
        }
        
        .context-title {
            font-size: 15px;
            font-weight: 500;
            color: #333;
            margin-bottom: 10px;
        }
        
        .context-quote {
            font-size: 14px;
            line-height: 1.5;
            color: #666;
            border-left: 3px solid var(--badge-color, #007aff);
            padding-left: 15px;
            margin-left: 5px;
            font-style: italic;
            transition: opacity 0.3s ease, border-color 0.3s ease;
            opacity: 1;
        }
        
        /* Different colored tags for each product type */
        .product-card:nth-child(1) .product-relevance {
            background: rgba(0, 122, 255, 0.9);
        }
        
        .product-card:nth-child(2) .product-relevance {
            background: rgba(88, 86, 214, 0.9);
        }
        
        .product-card:nth-child(3) .product-relevance {
            background: rgba(255, 149, 0, 0.9);
        }
        
        .product-card:nth-child(4) .product-relevance {
            background: rgba(52, 199, 89, 0.9);
        }
        
        .product-info {
            padding: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 140px;
        }
    </style>
</head>
<body>
    <h1>Interactive Product Showcase</h1>
    
    <a href="playground.html" class="back-button">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 12H5M12 19l-7-7 7-7" />
        </svg>
        Back to Playground
    </a>
    
    <div class="widget-container">
        <div class="widget-header">
            <div class="widget-title">Products You Might Like</div>
            <div class="widget-subtitle">Based on what you're reading right now</div>
            <div class="context-tag">Tech Gadgets 2023 Guide</div>
        </div>
        
        <div class="article-context">
            <div class="context-title">From the article you're reading:</div>
            <div class="context-quote" id="contextQuote">"...when it comes to noise cancellation, the Sony WH-1000XM5 sets a new industry standard with its eight microphones and improved processor. The sound quality is simply exceptional..."</div>
        </div>
        
        <div class="carousel-container">
            <div class="carousel-track">
                <div class="product-card" data-product="1">
                    <div class="product-relevance">Mentioned in article</div>
                    <div class="product-image"></div>
                    <div class="product-info">
                        <div class="product-details">
                            <h4>Sony WH-1000XM5</h4>
                            <div class="product-rating">★★★★★ <span>(4.8/5)</span></div>
                            <div class="product-price">$348.00</div>
                        </div>
                        <div class="product-actions">
                            <button class="view-btn" data-product="1">Quick View</button>
                            <button class="save-btn">Save</button>
                        </div>
                    </div>
                </div>
                
                <div class="product-card" data-product="2">
                    <div class="product-relevance">Similar features</div>
                    <div class="product-image"></div>
                    <div class="product-info">
                        <div class="product-details">
                            <h4>Apple Watch Ultra</h4>
                            <div class="product-rating">★★★★☆ <span>(4.6/5)</span></div>
                            <div class="product-price">$799.00</div>
                        </div>
                        <div class="product-actions">
                            <button class="view-btn" data-product="2">Quick View</button>
                            <button class="save-btn">Save</button>
                        </div>
                    </div>
                </div>
                
                <div class="product-card" data-product="3">
                    <div class="product-relevance">Trending now</div>
                    <div class="product-image"></div>
                    <div class="product-info">
                        <div class="product-details">
                            <h4>Sony ZV-1 II Camera</h4>
                            <div class="product-rating">★★★★☆ <span>(4.3/5)</span></div>
                            <div class="product-price">$799.99</div>
                        </div>
                        <div class="product-actions">
                            <button class="view-btn" data-product="3">Quick View</button>
                            <button class="save-btn">Save</button>
                        </div>
                    </div>
                </div>
                
                <div class="product-card" data-product="4">
                    <div class="product-relevance">Editor's choice</div>
                    <div class="product-image"></div>
                    <div class="product-info">
                        <div class="product-details">
                            <h4>Sonos Era 300</h4>
                            <div class="product-rating">★★★★★ <span>(4.7/5)</span></div>
                            <div class="product-price">$449.00</div>
                        </div>
                        <div class="product-actions">
                            <button class="view-btn" data-product="4">Quick View</button>
                            <button class="save-btn">Save</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="carousel-button prev-button">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            
            <button class="carousel-button next-button">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 5l7 7-7 7" />
                </svg>
            </button>
            
            <div class="carousel-nav">
                <button class="nav-dot active" aria-label="Product 1"></button>
                <button class="nav-dot" aria-label="Product 2"></button>
                <button class="nav-dot" aria-label="Product 3"></button>
                <button class="nav-dot" aria-label="Product 4"></button>
            </div>
        </div>
        
        <div class="meta-info">
            <div class="personalization-info">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2a10 10 0 100 20 10 10 0 000-20z" fill="#f2f2f2"/>
                    <path d="M12 16v-4M12 8h.01" stroke="#666" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Recommendations personalized to your reading history
            </div>
            
            <div class="read-mode-toggle">
                Reading Mode
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 18l6-6-6-6" />
                </svg>
            </div>
        </div>
    </div>
    
    <!-- Quick View Modal -->
    <div class="quick-view-modal" id="quickViewModal">
        <div class="modal-content">
            <div class="quick-view-container">
                <div class="quick-view-image">
                    <button class="close-modal" id="closeModal">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 6L6 18M6 6l12 12" />
                        </svg>
                    </button>
                    
                    <button class="view-3d-button">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 7v10M3 7l9 2M3 17l9-2M12 9v8" />
                        </svg>
                        View in 3D
                    </button>
                </div>
                
                <div class="quick-view-details">
                    <div class="product-brand">Sony</div>
                    <h2 class="product-title">WH-1000XM5 Wireless Noise Cancelling Headphones</h2>
                    
                    <div class="product-rating">★★★★★ <span>(4.8/5 from 3,245 reviews)</span></div>
                    
                    <p class="product-overview">
                        Industry-leading noise cancellation with eight microphones and Auto NC Optimizer. Crystal clear hands-free calling with 4 beamforming microphones and advanced audio signal processing.
                    </p>
                    
                    <div class="product-meta">
                        <div class="meta-item">
                            <span class="meta-label">Price</span>
                            <span class="meta-value">$348.00</span>
                        </div>
                        
                        <div class="meta-item">
                            <span class="meta-label">Color</span>
                            <span class="meta-value">Black</span>
                        </div>
                        
                        <div class="meta-item">
                            <span class="meta-label">Availability</span>
                            <span class="meta-value">In Stock</span>
                        </div>
                    </div>
                    
                    <div class="product-features">
                        <h3 class="features-title">Key Features</h3>
                        <ul class="feature-list">
                            <li class="feature-item">Industry-leading noise cancellation</li>
                            <li class="feature-item">30-hour battery life with quick charging</li>
                            <li class="feature-item">Multipoint connection for seamless switching</li>
                            <li class="feature-item">Crystal clear hands-free calling</li>
                            <li class="feature-item">Lightweight, comfortable design</li>
                        </ul>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="buy-now-btn">Buy Now</button>
                        <button class="add-cart-btn">+ Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const track = document.querySelector('.carousel-track');
            const slides = Array.from(track.children);
            const nextButton = document.querySelector('.next-button');
            const prevButton = document.querySelector('.prev-button');
            const dotsNav = document.querySelector('.carousel-nav');
            const dots = Array.from(dotsNav.children);
            const contextQuote = document.getElementById('contextQuote');
            const quickViewModal = document.getElementById('quickViewModal');
            const modalCloseButton = document.getElementById('closeModal');
            const quickViewButtons = document.querySelectorAll('.view-btn');
            
            let currentSlideIndex = 0;
            
            // Product-specific quotes
            const productQuotes = [
                "\"...when it comes to noise cancellation, the Sony WH-1000XM5 sets a new industry standard with its eight microphones and improved processor. The sound quality is simply exceptional...\"",
                "\"The Apple Watch Ultra is the most rugged and capable Apple Watch yet, with features that deliver the precise metrics needed for endurance athletes and adventurers of all kinds.\"",
                "\"Sony's ZV-1 II takes content creation to the next level with its vari-angle LCD screen and product showcase setting, making it perfect for vloggers and streamers.\"",
                "\"The Sonos Era 300 spatial audio speaker fills your room with music from wall to wall, with rich, detailed sound and deep bass that impresses at every volume level.\""
            ];
            
            // Badge colors for each product
            const badgeColors = [
                "rgba(0, 122, 255, 0.9)",   // Blue for Sony headphones
                "rgba(88, 86, 214, 0.9)",    // Purple for Apple Watch
                "rgba(255, 149, 0, 0.9)",    // Orange for Sony Camera
                "rgba(52, 199, 89, 0.9)"     // Green for Sonos Speaker
            ];
            
            // Quick view modal product data
            const productData = [
                {
                    brand: "Sony",
                    title: "WH-1000XM5 Wireless Noise Cancelling Headphones",
                    rating: "★★★★★ <span>(4.8/5 from 3,245 reviews)</span>",
                    overview: "Industry-leading noise cancellation with eight microphones and Auto NC Optimizer. Crystal clear hands-free calling with 4 beamforming microphones and advanced audio signal processing.",
                    price: "$348.00",
                    color: "Black",
                    availability: "In Stock",
                    features: [
                        "Industry-leading noise cancellation",
                        "30-hour battery life with quick charging",
                        "Multipoint connection for seamless switching",
                        "Crystal clear hands-free calling",
                        "Lightweight, comfortable design"
                    ],
                    imageUrl: "https://placehold.co/800x800/000000/ffffff?text=Sony+Headphones"
                },
                {
                    brand: "Apple",
                    title: "Apple Watch Ultra GPS + Cellular",
                    rating: "★★★★☆ <span>(4.6/5 from 2,876 reviews)</span>",
                    overview: "Rugged and capable, with a 49mm titanium case, precision dual-frequency GPS, up to 36 hours of battery life, and three specialized bands for athletes and adventurers of all kinds.",
                    price: "$799.00",
                    color: "Titanium",
                    availability: "In Stock",
                    features: [
                        "Up to 36 hours of battery life",
                        "Water resistant to 100m",
                        "Customizable Action button",
                        "Precision dual-frequency GPS",
                        "Emergency siren and night mode"
                    ],
                    imageUrl: "https://placehold.co/800x800/000000/ffffff?text=Apple+Watch"
                },
                {
                    brand: "Sony",
                    title: "Sony ZV-1 II Vlog Camera",
                    rating: "★★★★☆ <span>(4.3/5 from 1,583 reviews)</span>",
                    overview: "The ultimate vlogging camera with a wide-angle lens, product showcase feature, and background defocus for stunning content creation no matter your subject.",
                    price: "$799.99",
                    color: "Black",
                    availability: "In Stock",
                    features: [
                        "Ultra-wide 18-50mm lens",
                        "Product showcase setting",
                        "Real-time tracking and Eye AF",
                        "Background defocus button",
                        "Built-in directional 3-capsule mic"
                    ],
                    imageUrl: "https://placehold.co/800x800/000000/ffffff?text=Sony+Camera"
                },
                {
                    brand: "Sonos",
                    title: "Sonos Era 300 Wireless Speaker",
                    rating: "★★★★★ <span>(4.7/5 from 967 reviews)</span>",
                    overview: "A bold, revolutionary speaker that delivers an unprecedented spatial audio experience with Dolby Atmos, filling your entire room with rich, detailed sound.",
                    price: "$449.00",
                    color: "Black",
                    availability: "In Stock",
                    features: [
                        "Spatial audio with Dolby Atmos",
                        "Six class-D digital amplifiers",
                        "True stereo sound in one speaker",
                        "Voice control with Sonos Voice Control",
                        "Multi-room audio capability"
                    ],
                    imageUrl: "https://placehold.co/800x800/000000/ffffff?text=Sonos+Speaker"
                }
            ];
            
            // Set initial border color to match first product
            contextQuote.style.setProperty('--badge-color', badgeColors[0]);
            contextQuote.textContent = productQuotes[0];
            
            // Function to move to a specific slide
            const moveToSlide = (targetIndex) => {
                if (targetIndex < 0 || targetIndex >= slides.length) return;
                
                // Update currentSlideIndex
                currentSlideIndex = targetIndex;
                
                // Calculate the distance to translate the track
                const slideWidth = slides[0].getBoundingClientRect().width;
                const gap = 12; // Match the gap from CSS
                const translateX = -targetIndex * (slideWidth + gap);
                
                // Transform the entire track
                track.style.transform = `translateX(${translateX}px)`;
                
                // Update the current-slide class
                slides.forEach((slide, index) => {
                    if (index === targetIndex) {
                        slide.classList.add('current-slide');
                    } else {
                        slide.classList.remove('current-slide');
                    }
                });
                
                // Update the context quote and its color with smooth transition
                contextQuote.style.opacity = '0';
                setTimeout(() => {
                    contextQuote.textContent = productQuotes[targetIndex];
                    contextQuote.style.setProperty('--badge-color', badgeColors[targetIndex]);
                    contextQuote.style.opacity = '1';
                }, 300);
                
                // Update active dot
                dots.forEach((dot, index) => {
                    if (index === targetIndex) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                });
            };
            
            // Function to update the quick view modal with product data
            const updateQuickViewModal = (productIndex) => {
                const product = productData[productIndex];
                const quickViewImage = document.querySelector('.quick-view-image');
                const productBrand = document.querySelector('.product-brand');
                const productTitle = document.querySelector('.product-title');
                const modalRating = document.querySelector('.quick-view-details .product-rating');
                const productOverview = document.querySelector('.product-overview');
                const metaValues = document.querySelectorAll('.meta-value');
                const featuresList = document.querySelector('.feature-list');
                
                // Update product image
                quickViewImage.style.backgroundImage = `url('${product.imageUrl}')`;
                
                // Update product details
                productBrand.textContent = product.brand;
                productTitle.textContent = product.title;
                modalRating.innerHTML = product.rating;
                productOverview.textContent = product.overview;
                
                // Update meta values (price, color, availability)
                metaValues[0].textContent = product.price;
                metaValues[1].textContent = product.color;
                metaValues[2].textContent = product.availability;
                
                // Update features list
                featuresList.innerHTML = '';
                product.features.forEach(feature => {
                    const li = document.createElement('li');
                    li.className = 'feature-item';
                    li.textContent = feature;
                    featuresList.appendChild(li);
                });
                
                // Show the modal
                quickViewModal.classList.add('active');
            };
            
            // Set up quick view buttons
            quickViewButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    const productIndex = parseInt(button.getAttribute('data-product')) - 1;
                    updateQuickViewModal(productIndex);
                });
            });
            
            // Close modal when clicking the close button
            modalCloseButton.addEventListener('click', () => {
                quickViewModal.classList.remove('active');
            });
            
            // Close modal when clicking outside the modal content
            quickViewModal.addEventListener('click', (e) => {
                if (e.target === quickViewModal) {
                    quickViewModal.classList.remove('active');
                }
            });
            
            // Set up click event listeners for buttons
            nextButton.addEventListener('click', () => {
                if (currentSlideIndex < slides.length - 1) {
                    moveToSlide(currentSlideIndex + 1);
                }
            });
            
            prevButton.addEventListener('click', () => {
                if (currentSlideIndex > 0) {
                    moveToSlide(currentSlideIndex - 1);
                }
            });
            
            // Add click event listeners to the dots
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    moveToSlide(index);
                });
            });
            
            // Add drag scrolling functionality
            let startX;
            let scrollLeft;
            let isDragging = false;
            
            track.addEventListener('mousedown', (e) => {
                isDragging = true;
                startX = e.pageX - track.offsetLeft;
                scrollLeft = track.scrollLeft;
                track.style.cursor = 'grabbing';
            });
            
            track.addEventListener('mouseleave', () => {
                isDragging = false;
                track.style.cursor = 'grab';
            });
            
            track.addEventListener('mouseup', () => {
                isDragging = false;
                track.style.cursor = 'grab';
                
                // After dragging ends, snap to the nearest slide
                const slideWidth = document.querySelector('.product-card').offsetWidth;
                const dragThreshold = slideWidth / 3; // Threshold to determine slide change
                const moveAmount = track.scrollLeft - scrollLeft;
                
                if (Math.abs(moveAmount) > dragThreshold) {
                    // If dragged beyond threshold, move to next/prev slide
                    if (moveAmount > 0 && currentSlideIndex < (slides.length - 1)) {
                        moveToSlide(currentSlideIndex + 1);
                    } else if (moveAmount < 0 && currentSlideIndex > 0) {
                        moveToSlide(currentSlideIndex - 1);
                    } else {
                        // Stay on current slide if at the beginning or end
                        moveToSlide(currentSlideIndex);
                    }
                } else {
                    // If not dragged enough, snap back to current slide
                    moveToSlide(currentSlideIndex);
                }
            });
            
            track.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                e.preventDefault();
                const x = e.pageX - track.offsetLeft;
                const walk = (x - startX) * 1.5; // Multiply by 1.5 for faster scroll
                track.scrollLeft = scrollLeft - walk;
            });
            
            // Add grab cursor style to indicate draggable
            track.style.cursor = 'grab';
            track.style.userSelect = 'none';
            
            // Initialize first slide
            moveToSlide(0);
        });
    </script>
</body>
</html> 